<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Week 3 - My Piece in Verovio</title>
    <style>
    .box {
        display: flex;
        flex-flow: column;
        height: 100%;
    }
    .box .header {
       flex: 0 1 auto;
    }
    #app {
      max-width: 90%;
      height: 500px;
      overflow-x: auto;
      border: 1px solid lightgray;
      box-sizing: border-box;
    }
    a:link  {
      color: blue;
      text-decoration: none;
    }
    
    a:hover {
    text-decoration: underline;
    color: red;
    }

    </style>
</head>
<body>
    <div class="box">
    <div class="header"><h1>Week 3</h1>
        <p>Readability:</p>
        <p>In MusicXML, each element that contributes to the creation of a note has a separate line, therefore between each 'note' element is all the data defining that note. MEI files include all data relating to a note on the one line in the one element. MusicXML therefore has a larger file size compared to an MEI file.</p>
        <p>Editability:</p>
        <p>Furthermore, in each line of MEI code that is describing a note, an id is given to the note, giving an easier and more editable file. Without surfing through thousands of lines of code, through the MEIfriend webpage, it allows you to highlight any part of the score and view its subsequent line of code.</p>
        <p>Interchangability:</p>
        <p>Both MusicXML and MEI have great interoperability. MusicXML file formats can be opened in text-writing software along with any music notation software too.</p>
        <p>The <a href="https://music-encoding.org/guidelines/v5/content/index.html">MEI Guidlines</a> were a very useful set of resources that I have used throughout many of my portfolio tasks.</p>
        
    <div id="app">Verovio is loading...</div>
        
    <script type="module">
      // Import Verovio App module
    import 'https://www.verovio.org/javascript/app/verovio-app.js';

    // Initialize Verovio with basic settings
    const app = new Verovio.App(document.getElementById("app"), {
      defaultView: "responsive",
      defaultZoom: 3,
      scale: 125,
      enableResponsive: true,
    });

    // Fetch and load MEI data for score display
    fetch("data/MacArthurPark.mei")
      .then(response => {
        if (!response.ok) throw new Error("MEI file not found");
        return response.text();
      })
      .then(text => app.loadData(text, { format: 'mei' }))
      .catch(error => {
        console.error("Error loading MEI file:", error);
        document.getElementById("app").innerText = "Failed to load score.";
      });
    </script>
    </div>
</body>
</html>
